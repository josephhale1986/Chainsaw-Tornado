<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Chainsaw Tornado</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.webmanifest">
  <style>
    html, body { margin:0; padding:0; background:#0b1020; color:#e5e7eb; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
    #menu, #gameCanvas { width:100vw; height:100vh; display:flex; justify-content:center; align-items:center; }
    #menu { flex-direction:column; gap:14px; background:url('assets/start_bg.png') center/cover no-repeat; }
    .panel { background:#111827cc; padding:12px 16px; border-radius:12px; }
    .row { display:flex; gap:10px; }
    .btn { cursor:pointer; border:none; border-radius:10px; padding:10px 14px; font-weight:700; }
    .btn.start { background:#22c55e; color:#0b1020; }
    .btn.scores { background:#334155; color:#e5e7eb; }
    canvas { display:none; background:linear-gradient(#1f2937,#0b1020); }
    .hint { opacity:.8; font-size:12px; }
  </style>
</head>
<body>
  <div id="menu">
    <img src="assets/title_logo.png" alt="Chainsaw Tornado" width="320" height="120">
    <div class="row">
      <button class="btn start" onclick="startGame()">Start Game</button>
      <button class="btn scores" onclick="showScores()">High Scores</button>
    </div>
    <div class="hint">Move: ← → · Jump: Space · Melee: J · Log: K (5s) · Axe: L (8s, pierce) · Super: E (6s)</div>
  </div>
  <canvas id="gameCanvas" width="960" height="540"></canvas>
  <script>
    function showScores(){
      const raw = localStorage.ct_leaderboard ? JSON.parse(localStorage.ct_leaderboard) : [];
      if(!raw.length){ alert('No scores yet. Be the first!'); return; }
      const msg = raw.map((s,i)=>`${i+1}. ${s.initials} — ${s.score}`).join('\n');
      alert('🏆 High Scores\n\n'+msg);
    }
    function startGame(){
      document.getElementById('menu').style.display = 'none';
      const c = document.getElementById('gameCanvas'); c.style.display='block';
      const s = document.createElement('script'); s.src='game.js';
      s.onload = ()=>{ if(typeof initGame==='function') initGame(); else alert('initGame missing'); };
      document.body.appendChild(s);
    }
  </script>
</body>
</html>
